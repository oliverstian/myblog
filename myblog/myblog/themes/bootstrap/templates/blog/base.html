{% load static %}
<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- 上述三个必须放开头 -->

        <title>{% block title %}首页{% endblock %}- oliver个人博客</title>
        <link rel="stylesheet" href="{% static 'bootstrap-4.3.1-dist/css/bootstrap.css' %}">
        <link rel="stylesheet" href="{% static 'css/blog.css' %}">
        <link rel="stylesheet" href="{% static 'font-awesome-4.7.0/css/font-awesome.min.css' %}">

        {% block extra_head %}
        {% endblock %}

    </head>
    <body>
        <!-- 导航条开始 -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top navbar-oliver">  <!-- bg白 -->
            <div class="container nav_style_oliver">
                <a class="navbar-brand" href="/"><i id="logo-oliver">Blog of OliverTian</i></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                    {% for cate in nav_category %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'category-list' cate.id %}">{{ cate.name }}</a>
                        </li>
                    {% endfor %}
                    </ul>

                    <form class="form-inline my-2 my-lg-0 pr-lg-2" role="search" action='/search/' method='GET'>
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-success my-2 my-sm-0" type="submit">搜索</button>
                    </form>

                    <ul class="navbar-nav mr-sm-0">  <!-- mr-sm-0表示margin right 0px -->
                        <li class="nav-item">
                            <a class="nav-link" href="#">登陆</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">注册</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- 导航条结束-->



        <!-- 内容主体+侧边栏 开始 -->
        <div class="container">
            <div class="row">
                <div class="col-md-8 pr-0">  <!-- 内容部分 -->
                {% block main %}
                {% endblock %}
                </div>
                <div class="col-md-4">  <!-- 侧栏部分 -->
                   <!--个人空间-->
                    <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3 d-none d-lg-block" id="private-oliver">
                        <div class="card-header bg-white px-0">
                            <strong><i class="fa fa-paper-plane mr-2 f-17"></i>个人空间</strong>
                        </div>
                        <div class="card-body px-0 pt-3 pb-1">
                            <div class="row text-center">
                                <div class="col">
                                    <a href="https://github.com/oliverstian" target="_blank" title="进入博主的Github查看博客源码">  <!-- target='_blank'表示在新窗口打开链接 -->
                                        <img style="max-width:40px" alt="博主的github" src="{% static 'imgs/github.png' %}">
                                        <p class="mt-2">Github</p>
                                    </a>
                                </div>
                                <div class="col">
                                    <a href="https://home.cnblogs.com/u/olivertian/" target="_blank" title="博主的博客园">  <!-- target='_blank'表示在新窗口打开链接 -->
                                        <img style="max-width:40px" alt="博主的博客园" src="{% static 'imgs/cnblogs.jpg' %}">
                                        <p class="mt-2">博客园</p>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 热门文章 -->
                    <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="hot-article-oliver">
                        <div class="card-header bg-white px-0">
                            <strong><i class="fa fa-book mr-2 f-17"></i>热门文章</strong>
                        </div>
                        <div class="list-group list-group-flush">
                            {% for hot_article in hot_articles %}
                            <a href="{% url 'article-detail' hot_article.id %}" class="pl-0 pr-0 list-group-item">
                                <div class="row no-gutters" style="height: 80px">
                                    <div class="col-md-4">
                                        <img class="card-img img-tiled-oliver" src="{% static 'imgs/1.png' %}">
                                    </div>
                                    <div class="col-md-8 pl-2">
                                        <h6 class="font-weight-bold">{{ hot_article.title }}</h6>
                                        <span class="text-muted mr-2">{{ hot_article.time_short_format }}</span>
                                        <span class="text-muted">阅读({{ hot_article.pv }})</span>
                                    </div>
                                </div>
                            </a>
                            {% endfor %}
                        </div>
                    </div>

                    <!--标签云-->
                    <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="tag-card">
                        <div class="card-header bg-white px-0">
                            <strong><i class="fa fa-tags mr-2 f-17"></i>标&nbsp;签&nbsp;云</strong>
                        </div>
                        <div class="card-body px-0 py-3">
                            <div class="tag-cloud">
                                {% for tag in all_tags %}
                                <a href="{% url 'tag-list' tag.id %}" class="tags f-16" title="共{{ tag.article_nums }}篇文章">{{ tag.name }}（{{ tag.article_nums }}）</a>
                                {% endfor %}
                            </div>
                        </div>
                    </div>

                    <!--友链-->
                    <div class="d-none d-lg-block">
                        <div class="card border-0 rounded-0 px-3 mb-2 mb-md-3" id="friends-link-olver">
                            <div class="card-header bg-white px-0">
                                <strong><i class="fa fa-link mr-2 f-17"></i>友情链接</strong>
                            </div>

                            <div class="card-body px-2">
                                {% for friend_link in friend_links %}
                                <a href="{{ friend_link.href }}" target="_blank" class="f-16">{{ friend_link.title }}</a>
                                {% endfor %}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- 内容主体+侧边栏 结束 -->

{#    <div class="container main">#}
{#        <div class="row">#}
{#            <div class="col-xl-9 post-list">#}
{#            {% block main %}#}
{#            {% endblock %}#}
{#            </div>#}
{#            <div class="col-xl-3">#}
{#                {% block sidebar %}#}
{#                    {% for sidebar in sidebars %}#}
{#                    <div class="card sidebar">#}
{#                        <div class="card-body">#}
{#                            <h4 class="card-title">{{ sidebar.title }}</h4>#}
{#                            {{ sidebar.content_html }}#}
{#                        </div>#}
{#                    </div>#}
{#                    {% endfor %}#}
{#                {% endblock %}#}
{#            </div>#}
{#        </div>#}
{#    </div>#}

    <footer class="footer">
        {% block footer %}
        <div class="container">
            <hr/>
            <nav class="nav category">
            {% for cate in normal_category %}
            <a href="{% url 'category-list' cate.id %}" class="nav-link">{{ cate.name }}</a>
            {% endfor %}
            </nav>
        </div>
        <div class="container power">
            <span class="text-muted">Power by olivertian</span>
        </div>
        {% endblock %}
    </footer>

    <script src="{% static 'jquery/jquery-3.4.1.min.js' %}"></script>  <!-- bootstrap依赖jQuery，比如上面的data-toggle不导入jQuery就无法下拉 -->
    <script src="{% static 'bootstrap-4.3.1-dist/js/bootstrap.js' %}"></script>
    </body>
</html>
